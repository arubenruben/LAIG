<lxs>
    <scene root="terrain" axis_length="5"/>

    <views default="defaultCamera">
        <perspective id="defaultCamera" near="0.1" far="500" angle="0.4">
            <from x="15" y="15" z="15" />
            <to x="0" y="0" z="0" />
        </perspective>
    </views>

    <globals>
        <ambient r="0.3" g="0.3" b="0.3" a="1.0" />
        <background r="0.0" g="0.0" b="0.0" a="1.0" />
    </globals>

    <lights>
        <omni id="sol" enabled="0">
            <location x="7" y="5" z="10" w="1.0" />
            <ambient r="0.9" g="0.5" b="0" a="1.0" />
            <diffuse r="0.9" g="0.5" b="0" a="1.0" />
            <specular r="0.9" g="0.5" b="0" a="1.0" />
            <attenuation constant ="1.0" linear = "0.0" quadratic = "0.0"/>
        </omni>

        <spot id="sol1" enabled="1" angle="45" exponent="10">
            <location x="7" y="3" z="10" w="1.0" />
            <target x="1" y= "1" z="1"/>
            <ambient r="0" g="0" b="1" a="1.0" />
            <diffuse r="0.9" g="0.5" b="0" a="1.0" />
            <specular r="0.9" g="0.5" b="0" a="1.0" />
            <attenuation constant ="1.0" linear = "0.0" quadratic = "0.0"/>
        </spot>
    </lights>

    <textures>
        <texture id="demoTexture" file="scenes/images/vidral.jpg" />
        <texture id="dirt" file="scenes/images/dirt.jpg" />
        <texture id="grass" file="scenes/images/grass.jpg" />
        <texture id="marble" file="scenes/images/marble.jpg" />
        <texture id="esperguicadeira" file="scenes/images/esperguicadeira.png"/>
        <texture id="water" file="scenes/images/water.jpg" />
        <texture id="pool_tiles" file="scenes/images/pool_tiles.jpg" />
        <texture id="plastic" file="scenes/images/plastic.png"/>
        <texture id="colmo" file= "scenes/images/colmo.png"/>
        <texture id="tronco" file= "scenes/images/madeira.jpg"/>

    </textures>

    <materials>
        <material id="demoMaterial" shininess="10">
            <emission r="0.0" g="0.0" b="0.0" a="1.0" />
            <ambient r="1.0" g="1.0" b="1.0" a="1.0" />
            <diffuse r="1.0" g="1.0" b="1.0" a="1.0" />
            <specular r="1.0" g="1.0" b="1.0" a="1.0" />
        </material>
        <material id="orange_material" shininess="10">
            <emission r="0.0" g="0.0" b="0.0" a="1.0" />
            <ambient r="1.0" g="0.5" b="0.0" a="1.0" />
            <diffuse r="1.0" g="0.5" b="0.0" a="1.0" />
            <specular r="1.0" g="0.5" b="0.0" a="1.0" />
        </material>

        <material id="red_material" shininess="10">
            <emission r="0" g="0" b="0" a="1.0" />
            <ambient r="0.8" g="0" b="0.2" a="1.0" />
            <diffuse r="0.8" g="0" b="0.2" a="1.0" />
            <specular r="0.8" g="0" b="0.2" a="1.0" />
        </material>

        <material id="magenta_material" shininess="10">
            <emission r="0.7" g="0" b="0.2" a="1.0" />
            <ambient r="0.7" g="0" b="0.2" a="1.0" />
            <diffuse r="0.7" g="0" b="0.2" a="1.0" />
            <specular r="0.7" g="0" b="0.2" a="1.0" />
        </material>
    </materials>

    <transformations>


        <!-- VERIFICADAS-->
        <transformation id="demoTransform">
            <translate x="0" y="0" z="0" />
        </transformation>


        <transformation id="identity">
            <translate x="0" y="0" z="0"/>
        </transformation>

        <transformation id="underground_transf">
            <translate x="0" y="-2" z="0" />
            <rotate axis="x" angle="90" />
            <scale x="14" y="20" z="1" />

        </transformation>

        <transformation id ="terrain_transf">
            <translate x="0" y="0" z="0"/>
        </transformation>

    </transformations>

    <primitives>
        <primitive id="square">
            <rectangle x1="0" y1="0" x2="1" y2="1" />
        </primitive>

        <primitive id="cilinder_pau">
            <cylinder base="0.4" top="0.5" height="1" slices="10" stacks="10" />
        </primitive>

        <primitive id="torus_bouy">
            <torus inner="0.2" outer="0.5" slices="30" loops="30"/>
        </primitive>

        <primitive id="sphere_ball">
            <sphere radius="0.3" slices="30" stacks="30"/>
        </primitive>

        <primitive id="cilinder_guarda_sol">
            <cylinder base="0.5" top="0" height="1" slices="30" stacks="30" />
        </primitive>

        <primitive id="cilinder_perna_esperguicadeira">
            <cylinder base="0.3" top="0.3" height="1" slices="10" stacks="10" />
        </primitive>

    </primitives>

    <components>

        <component id="costas">
            <transformation>
                <translate x="0" y="1" z="-0.5" />
                <rotate axis="z" angle="120"/>
                <rotate axis="y" angle="-90"/>
                <rotate axis="x" angle="-90"/>
                <scale x="2" y="3" z="0"/>

            </transformation>
            <materials>
                <material id="demoMaterial" />
            </materials>
            <texture id="inherit"/>
            <children>
                <primitiveref id="square"/>
            </children>
        </component>

        <component id="tabua">
            <transformation>
                <translate x="0" y="1" z="-0.5" />
                <rotate axis="y" angle="-90"/>
                <rotate axis="x" angle="-90"/>
                <scale x="2" y="5" z="0"/>

            </transformation>
            <materials>
                <material id="demoMaterial" />
            </materials>
            <texture id="inherit"/>
            <children>
                <primitiveref id="square"/>
            </children>
        </component>


        <component id="frente_esq">
            <transformation>
                <translate x="3" y="0" z="1" />
                <rotate axis="x" angle="-90"/>
            </transformation>
            <materials>
                <material id="demoMaterial" />
            </materials>
            <texture id="plastic"/>
            <children>
                <primitiveref id="cilinder_perna_esperguicadeira"/>
            </children>
        </component>

        <component id="frente_dir">
            <transformation>
                <translate x="3" y="0" z="0" />
                <rotate axis="x" angle="-90"/>
            </transformation>
            <materials>
                <material id="demoMaterial" />
            </materials>
            <texture id="plastic"/>
            <children>
                <primitiveref id="cilinder_perna_esperguicadeira"/>
            </children>
        </component>



        <component id="anterior_esq">
            <transformation>
                <translate x="0" y="0" z="1" />
                <rotate axis="x" angle ="-90"/>
            </transformation>
            <materials>
                <material id="demoMaterial" />
            </materials>
            <texture id="plastic"/>
            <children>
                <primitiveref id="cilinder_perna_esperguicadeira"/>
            </children>
        </component>

        <component id="anterior_dir">
            <transformation>
                <translate x="0" y="0" z="0" />
                <rotate axis="x" angle ="-90"/>
            </transformation>
            <materials>
                <material id="demoMaterial" />
            </materials>
            <texture id="plastic"/>
            <children>
                <primitiveref id="cilinder_perna_esperguicadeira"/>
            </children>
        </component>


        <component id="chapeu_shape">
            <transformation>
                <translate x="0" y="6" z="1"/>
                <scale x="10" y="3" z="10"/>
                <rotate axis="x" angle ="-90"/>
            </transformation>
            <materials>
                <material id="demoMaterial" />
            </materials>
            <texture id="colmo"/>
            <children>
                <primitiveref id="cilinder_guarda_sol"/>
            </children>
        </component>

        <component id="pau_placement">
            <transformation>
                <translate x="0" y="0" z="1"/>
                <scale x="0.5" y="6" z="0.5"/>
                <rotate axis="x" angle ="-90"/>
            </transformation>
            <materials>
                <material id="demoMaterial" />
            </materials>
            <texture id="inherit"/>
            <children>
                <primitiveref id="cilinder_pau"/>
            </children>
        </component>


        <component id="pau">
            <transformation>
                <translate x="0" y="0" z="1"/>
                <scale x="1" y="1" z="1"/>
            </transformation>
            <materials>
                <material id="demoMaterial" />
            </materials>
            <texture id="tronco"/>
            <children>
                <componentref id="chapeu_shape"/>
                <componentref id="pau_placement"/>
            </children>
        </component>





        <component id="esperguicadeira">
            <transformation>
                <translate x="0" y="0" z="0" />
            </transformation>
            <materials>
                <material id="demoMaterial" />
            </materials>
            <texture id="esperguicadeira"/>
            <children>
                <componentref id="anterior_esq"/>
                <componentref id="anterior_dir"/>
                <componentref id="frente_esq"/>
                <componentref id="frente_dir"/>
                <componentref id="tabua"/>
                <componentref id="costas"/>
            </children>
        </component>




        <component id="guarda_sol_aux_1">
            <transformation>
                <translate x="0" y="0" z="14.3"/>
            </transformation>
            <materials>
                <material id="demoMaterial" />
            </materials>
            <texture id="plastic"/>
            <children>
                <componentref id="pau"/>
            </children>
        </component>



        <component id="esperguicadeira_aux_2">
            <transformation>
                <translate x="0" y="0" z="18" />
            </transformation>
            <materials>
                <material id="demoMaterial" />
            </materials>
            <texture id="esperguicadeira"/>
            <children>
                <componentref id="esperguicadeira"/>
            </children>
        </component>


        <component id="esperguicadeira_aux_1">
            <transformation>
                <translate x="0" y="0" z="14" />
            </transformation>
            <materials>
                <material id="demoMaterial" />
            </materials>
            <texture id="esperguicadeira"/>
            <children>
                <componentref id="esperguicadeira"/>
            </children>
        </component>

        <component id="esper_mais_guarda_sois_1">
            <transformation>
                <translate x="0.5" y="0" z="0"/>
            </transformation>
            <materials>
                <material id="demoMaterial" />
            </materials>
            <texture id="plastic"/>
            <children>
                <componentref id="esperguicadeira_aux_1"/>
                <componentref id="guarda_sol_aux_1"/>
                <componentref id="esperguicadeira_aux_2"/>
            </children>
        </component>


         <component id="esper_mais_guarda_sois_2">
            <transformation>
                <translate x="0.5" y="0" z="-12"/>
            </transformation>
            <materials>
                <material id="demoMaterial" />
            </materials>
            <texture id="plastic"/>
            <children>
                <componentref id="esperguicadeira_aux_1"/>
                <componentref id="guarda_sol_aux_1"/>
                <componentref id="esperguicadeira_aux_2"/>
            </children>
        </component>



        <component id="mobiliario">
            <transformation>
                <translate x="2" y="0" z="7"/>
                <scale x="0.4" y="0.4" z="0.4"/>
            </transformation>
            <materials>
                <material id="demoMaterial" />
            </materials>
            <texture id="grass"/>
            <children>
                <componentref id="esper_mais_guarda_sois_1"/>
                <componentref id="esper_mais_guarda_sois_2"/>
          
            </children>
        </component>

         <component id="mobiliario2">
            <transformation>
                <translate x="14" y="0" z="22.5"/>
                <rotate axis="y" angle="180"/>
                <translate x="2" y="0" z="7"/>
                <scale x="0.4" y="0.4" z="0.4"/>
            </transformation>
            <materials>
                <material id="demoMaterial" />
            </materials>
            <texture id="grass"/>
            <children>
                <componentref id="esper_mais_guarda_sois_1"/>
                <componentref id="esper_mais_guarda_sois_2"/>
          
            </children>
        </component>



        <component id="grass_width">
            <transformation>

                <translate x="2" y="0" z="2"/>
                <rotate axis="x" angle="-90"/>
                <scale x="10" y="2" z="1"/>

            </transformation>
            <materials>
                <material id="demoMaterial" />
            </materials>
            <texture id="grass"/>
            <children>
                <primitiveref id="square"/>
            </children>
        </component>

        <component id="marble_width">
            <transformation>
                <translate x="2" y="0" z="20"/>
                <rotate axis="x" angle="-90"/>
                <scale x="10" y="2" z="1"/>
            </transformation>
            <materials>
                <material id="demoMaterial" />
            </materials>
            <texture id="marble"/>
            <children>
                <primitiveref id="square"/>
            </children>
        </component>


        <component id="marble_width_2">
            <transformation>
                <translate x="4" y="0" z="6"/>
                <rotate axis="x" angle="-90"/>
                <scale x="6" y="4" z="1"/>
            </transformation>
            <materials>
                <material id="demoMaterial" />
            </materials>
            <texture id="marble"/>
            <children>
                <primitiveref id="square"/>
            </children>
        </component>

        <component id="grass_length">
            <transformation>
                <rotate axis="y" angle="-90"/>
                <rotate axis="x" angle="-90"/>
                <scale x="20" y="2" z="1"/>

            </transformation>
            <materials>
                <material id="demoMaterial" />
            </materials>
            <texture id="grass"/>
            <children>
                <primitiveref id="square"/>
            </children>
        </component>

        <component id="marble_length">
            <transformation>
                <translate x="2" y="0" z="2"/>
                <rotate axis="y" angle="-90"/>
                <rotate axis="x" angle="-90"/>
                <scale x="16" y="2" z="1"/>
            </transformation>
            <materials>
                <material id="demoMaterial" />
            </materials>
            <texture id="marble"/>
            <children>
                <primitiveref id="square"/>
            </children>
        </component>


        <component id="floor_width_front">
            <transformation>
                <transformationref id="identity"/>
            </transformation>
            <materials>
                <material id="demoMaterial" />
            </materials>
            <texture id="inherit"/>
            <children>
                <componentref id="marble_width"/>
                <componentref id="mobiliario"/>
                <componentref id="mobiliario2"/>
            </children>
        </component>

        <component id="floor_width_back">
            <transformation>
                <transformationref id="identity"/>
            </transformation>
            <materials>
                <material id="demoMaterial" />
            </materials>
            <texture id="inherit"/>
            <children>
                <componentref id="grass_width"/>
                <componentref id="marble_width_2"/>
            </children>
        </component>


        <component id="floor_width">
            <transformation>
                <transformationref id="identity"/>
            </transformation>
            <materials>
                <material id="demoMaterial" />
            </materials>
            <texture id="inherit"/>
            <children>
                <componentref id="floor_width_front"/>
                <componentref id="floor_width_back"/>
            </children>
        </component>

        <component id="floor_length_right">
            <transformation>
                <translate x="14" y="0" z="20"/>
                <rotate axis="y" angle="180"/>
            </transformation>
            <materials>
                <material id="demoMaterial" />
            </materials>
            <texture id="inherit"/>
            <children>
                <componentref id="grass_length"/>
                <componentref id="marble_length"/>
            </children>
        </component>

        <component id="floor_length_left">
            <transformation>
                <transformationref id="identity"/>
            </transformation>
            <materials>
                <material id="demoMaterial" />
            </materials>
            <texture id="inherit"/>
            <children>
                <componentref id="grass_length"/>
                <componentref id="marble_length"/>
            </children>
        </component>

        <component id="floor_length">
            <transformation>
                <transformationref id="identity"/>
            </transformation>
            <materials>
                <material id="demoMaterial" />
            </materials>
            <texture id="inherit"/>
            <children>
                <componentref id="floor_length_left"/>
                <componentref id="floor_length_right"/>
            </children>
        </component>

        <component id="floor">
            <transformation>
                <transformationref id="identity"/>
            </transformation>
            <materials>
                <material id="demoMaterial" />
            </materials>
            <texture id="grass"/>
            <children>
                <componentref id="floor_width" />
                <componentref id="floor_length" />

            </children>
        </component>

        <component id="underground">
            <transformation>
                <transformationref id="underground_transf"/>
            </transformation>
            <materials>
                <material id="demoMaterial" />
            </materials>
            <texture id="inherit"/>
            <children>
                <primitiveref id="square" />
            </children>
        </component>

        <!--SIDES-->

        <component id="left_right_side_primitive">
            <transformation>
                <translate x="0" y="-2" z="0" />
                <scale x="1" y="2" z="20"/>
                <rotate axis="y" angle="-90"/>
            </transformation>
            <materials>
                <material id="demoMaterial" />
            </materials>
            <texture id="inherit"/>
            <children>
                <primitiveref id="square" />
            </children>
        </component>

        <component id="right_side">
            <transformation>
                <translate x="14" y="-2" z="0"/>
                <rotate axis="z" angle="180"/>
            </transformation>
            <materials>
                <material id="demoMaterial" />
            </materials>
            <texture id="inherit"/>
            <children>
                <componentref id="left_right_side_primitive"/>
            </children>
        </component>

        <component id="left_side">
            <transformation>
                <translate x="0" y="0" z="0"/>
            </transformation>
            <materials>
                <material id="demoMaterial" />
            </materials>
            <texture id="inherit"/>
            <children>
                <componentref id="left_right_side_primitive"/>
            </children>
        </component>

        <component id="back_front_side_primitive">
            <transformation>
                <translate x="0" y="-2" z="0" />
                <scale x="14" y="2" z="1"/>
            </transformation>
            <materials>
                <material id="demoMaterial" />
            </materials>
            <texture id="inherit"/>
            <children>
                <primitiveref id="square" />
            </children>
        </component>

        <component id="back_side">
            <transformation>
                <!-- putting normals the correct way-->
                <translate x="0" y="-2" z="0"/>
                <rotate axis="x" angle ="180"/>
            </transformation>
            <materials>
                <material id="demoMaterial" />
            </materials>
            <texture id="inherit"/>
            <children>
                <componentref id="back_front_side_primitive"/>
            </children>
        </component>

        <component id="front_side">
            <transformation>
                <translate x="0" y="0" z="20"/>
            </transformation>
            <materials>
                <material id="demoMaterial" />
            </materials>
            <texture id="inherit"/>
            <children>
                <componentref id="back_front_side_primitive"/>
            </children>
        </component>

        <component id="sides">
            <transformation>
                <transformationref id="identity" />
            </transformation>
            <materials>
                <material id="demoMaterial" />
            </materials>
            <texture id="inherit"/>
            <children>
                <componentref id="left_side"/>
                <componentref id="right_side"/>
                <componentref id="front_side"/>
                <componentref id="back_side"/>
            </children>
        </component>

        <component id="ramp">
            <transformation>
                <translate x="3" y="0" z="18"/>
                <rotate axis="x" angle="-105"/>
                <scale x="7" y="5" z="0"/>
            </transformation>
            <materials>
                <material id="demoMaterial" />
            </materials>
            <texture id="pool_tiles"/>
            <children>
                <primiteref id="square"/>
            </children>
        </component>


        <component id="sides1">
            <transformation>
                <translate x="4" y="0" z="6"/>
                <scale x="0.430" y="0.5" z="0.6"/>
            </transformation>
            <materials>
                <material id="demoMaterial" />
            </materials>
            <texture id="pool_tiles"/>
            <children>
                <componentref id="left_side"/>
                <componentref id="right_side"/>
                <componentref id="back_side"/>
                <componentref id="underground"/>

            </children>
        </component>

        <component id="water">
            <transformation>
                <translate x="4" y="-0.3" z="20"/>
                <rotate axis="x" angle="-90"/>
                <scale x="6" y="20" z="1"/>
            </transformation>
            <materials>
                <material id="demoMaterial" />
            </materials>
            <texture id="water"/>
            <children>
                <primitiveref id="square"/>
            </children>
        </component>

        <component id="water_ball">
            <transformation>
                <translate x="7" y="-0.1" z="8"/>
                <scale x="2" y="2" z="2"/>

            </transformation>
            <materials>
                <material id="red_material" />
            </materials>
            <texture id="water"/>
            <children>
                <primitiveref id="sphere_ball"/>
            </children>
        </component>

        <component id="water_bouy">
            <transformation>
                <translate x="8" y="-0.3" z="13"/>
                <rotate axis="x" angle="90"/>
            </transformation>
            <materials>
                <material id="orange_material"/>
            </materials>
            <texture id="water"/>
            <children>
                <primitiveref id="torus_bouy"/>
            </children>
        </component>

        <component id="water_bouy_2">
            <transformation>
                <translate x="6" y="-0.3" z="15"/>
                <rotate axis="x" angle="90"/>
            </transformation>
            <materials>
                <material id="magenta_material"/>
            </materials>
            <texture id="water"/>
            <children>
                <primitiveref id="torus_bouy"/>
            </children>
        </component>

        <component id="pool">
            <transformation>
                <transformationref id="identity" />
            </transformation>
            <materials>
                <material id="demoMaterial" />
            </materials>
            <texture id="water"/>
            <children>
                <componentref id="sides1"/>
                <componentref id="ramp"/>
                <componentref id="water"/>
                <componentref id="water_ball"/>
                <componentref id="water_bouy"/>
                <componentref id="water_bouy_2"/>
            </children>
        </component>

        <!-- TERRAIN ITSELF / ROOT OF XML-->

        <component id="terrain">
            <transformation>
                <transformationref id="identity" />
            </transformation>
            <materials>
                <material id="demoMaterial" />
            </materials>
            <texture id="dirt"/>
            <children>

                <componentref id="underground"/>
                <componentref id="floor"/>
                <componentref id="sides"/>
                <componentref id="pool"/>


            </children>
        </component>


    </components>
</lxs>









